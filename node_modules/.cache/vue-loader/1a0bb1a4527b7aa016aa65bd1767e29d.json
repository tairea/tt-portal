{"remainingRequest":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iantairea/Desktop/Projects/tt-portal/src/components/ProfileDetails.vue?vue&type=style&index=0&id=28b93a09&scoped=true&lang=css&","dependencies":[{"path":"/Users/iantairea/Desktop/Projects/tt-portal/src/components/ProfileDetails.vue","mtime":1583133894758},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.darkGreyBg {\n  background-color: #393e46;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.title,\n.subtitle,\n.report {\n  color: white;\n}\n\n#profile-pic {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n  background-color: #777777;\n}\n\n.iwi {\n  font-size: 0.7rem;\n}\n\n.credits {\n  margin: 5px 0 0 0;\n  color: white;\n}\n.creditTotal {\n  font-size: 1.5em;\n  background-color: #23d160;\n  color: white;\n  border-radius: 50%;\n  text-align: center;\n  width: 50px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n}\n\n.columns {\n  flex: auto;\n}\n\n@media (min-width: 1200px) {\n}\n",{"version":3,"sources":["ProfileDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"ProfileDetails.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"columns is-mobile\" :class=\"{darkGreyBg: a4}\">\n    <div v-if=\"overview\" class=\"column\">\n      <div class=\"column\">\n        <!-- <img\n          v-if=\"ruakura\"\n          id=\"profile-pic\"\n          v-bind:src=\"require('@/assets/student_photos/ruakura/' + formatStudentName(student.given_name) + '.png')\"\n        /> -->\n        <img\n          id=\"profile-pic\"\n          v-bind:src=\"require('@/assets/student_photos/' + formatStudentName(student.given_name) + '.png')\"\n        />\n      </div>\n      <div class=\"column is-full\">\n        <!-- NAME -->\n        <p\n          :class=\"{title: a4}\"\n          style=\"font-weight: bold\"\n        >\n        {{student.given_name}} {{student.family_name}}\n        <!-- {{student.given_name}} -->\n      </p>\n        <!-- SCHOOL YEAR -->\n        <p :class=\"{subtitle: a4}\">Year {{student.school_year}}</p>\n\n        <!-- <h2\n          v-if=\"student.school_year >= 11 && overview && ruakura\"\n          class=\"creditTotal\"\n        >{{getTotalRuakura()}}</h2> -->\n\n        <h2\n          v-if=\"student.school_year >= 11 && overview && student.creditTotal !== null && student.creditTotal > 0\"\n          class=\"creditTotal\"\n        >{{student.creditTotal}}</h2>\n\n        <!-- <p class=\"iwi\">{{student.iwi.join(', ')}}</p> -->\n        <h2 v-if=\"a4 && student.school_year >= 11 && overview\" class=\"credits\">\n          Total Credits\n          <br />\n          <br />\n        </h2>\n        <h2 v-if=\"a4\" class=\"report\">Term 2 Report 2019</h2>\n      </div>\n    </div>\n    <div v-else class=\"columns is-mobile margin-5\">\n      <div class=\"column\">\n        <!-- <img\n          v-if=\"ruakura\"\n          id=\"profile-pic\"\n          v-bind:src=\"require('@/assets/student_photos/ruakura/' + formatStudentName(student.given_name) + '.png')\"\n        /> -->\n        <img\n          id=\"profile-pic\"\n          v-bind:src=\"require('@/assets/student_photos/' + formatStudentName(student.given_name) + '.png')\"\n        />\n      </div>\n      <div class=\"column has-text-left-mobile\">\n        <p class=\"has-text-weight-semibold\">{{student.given_name}} {{student.family_name}}</p>\n        <p>Year {{student.school_year}}</p>\n        <!-- <h2 v-if=\"student.school_year >= 11\" class=\"creditTotal\">{{getTotal()}}</h2> -->\n        <!-- <p class=\"iwi\">{{student.iwi.join(', ')}}</p> -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport { db } from \"./firebaseInit\";\n\nVue.use(Buefy);\n\nexport default {\n  name: \"ProfileDetails\",\n  props: [\"student\", \"overview\", \"a4\", \"ruakura\"],\n  data() {\n    return {\n      standards: [],\n      standardsRuakura: []\n    };\n  },\n  mounted() {\n    // get standards from firebase\n    this.$bind(\n      \"standards\",\n      db.collection(`/students/${this.student.id}/openCredits2020`)\n    );\n    this.$bind(\n      \"standardsRuakura\",\n      db.collection(`/studentsRuakura/${this.student.id}/openCredits2020`)\n    );\n  },\n  methods: {\n    getTotal() {\n      //=== achieved credits\n      const achievedCredits = this.standards.filter(\n        stnd => stnd.completed == \"Achieved\"\n      );\n      const achievedTotal = achievedCredits.reduce(\n        (prev /* number */, curr /* standard */) =>\n          prev + curr.assessmentCredits,\n        0\n      );\n      // console.log(\"achieved credits:\", achievedTotal);\n      //=== merit credits\n      const meritCredits = this.standards.filter(\n        stnd => stnd.completed == \"Merit\"\n      );\n      const meritTotal = meritCredits.reduce(\n        (prev /* number */, curr /* standard */) =>\n          prev + curr.assessmentCredits,\n        0\n      );\n      // console.log(\"merit credits:\", meritTotal);\n      //=== excellence credits\n      const excellenceCredits = this.standards.filter(\n        stnd => stnd.completed == \"Excellence\"\n      );\n      const excellenceTotal = excellenceCredits.reduce(\n        (prev /* number */, curr /* standard */) =>\n          prev + curr.assessmentCredits,\n        0\n      );\n      // console.log(\"excellence credits:\", excellenceTotal);\n\n      const completedTotal =\n        Number(achievedTotal) + Number(meritTotal) + Number(excellenceTotal);\n\n      return completedTotal;\n    },\n    getTotalRuakura() {\n      //=== achieved credits\n      const achievedCredits = this.standardsRuakura.filter(\n        stnd => stnd.completed == \"Achieved\"\n      );\n      const achievedTotal = achievedCredits.reduce(\n        (prev /* number */, curr /* standard */) =>\n          prev + curr.assessmentCredits,\n        0\n      );\n      // console.log(\"achieved credits:\", achievedTotal);\n\n      //=== merit credits\n      const meritCredits = this.standardsRuakura.filter(\n        stnd => stnd.completed == \"Merit\"\n      );\n      const meritTotal = meritCredits.reduce(\n        (prev /* number */, curr /* standard */) =>\n          prev + curr.assessmentCredits,\n        0\n      );\n      // console.log(\"merit credits:\", meritTotal);\n\n      //=== excellence credits\n      const excellenceCredits = this.standardsRuakura.filter(\n        stnd => stnd.completed == \"Excellence\"\n      );\n      const excellenceTotal = excellenceCredits.reduce(\n        (prev /* number */, curr /* standard */) =>\n          prev + curr.assessmentCredits,\n        0\n      );\n      // console.log(\"excellence credits:\", excellenceTotal);\n\n      const completedTotal =\n        Number(achievedTotal) + Number(meritTotal) + Number(excellenceTotal);\n\n      return completedTotal;\n    },\n    formatStudentName: function(name) {\n      var name = name.replace(/\\s/g, \"\");\n      return name.toLowerCase();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.darkGreyBg {\n  background-color: #393e46;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.title,\n.subtitle,\n.report {\n  color: white;\n}\n\n#profile-pic {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  object-fit: cover;\n  background-color: #777777;\n}\n\n.iwi {\n  font-size: 0.7rem;\n}\n\n.credits {\n  margin: 5px 0 0 0;\n  color: white;\n}\n.creditTotal {\n  font-size: 1.5em;\n  background-color: #23d160;\n  color: white;\n  border-radius: 50%;\n  text-align: center;\n  width: 50px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n}\n\n.columns {\n  flex: auto;\n}\n\n@media (min-width: 1200px) {\n}\n</style>\n"]}]}