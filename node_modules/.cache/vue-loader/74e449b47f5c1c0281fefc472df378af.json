{"remainingRequest":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iantairea/Desktop/Projects/tt-mobile/src/components/SubjectAccordion.vue?vue&type=style&index=0&id=7da25210&scoped=true&lang=css&","dependencies":[{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/src/components/SubjectAccordion.vue","mtime":1586934823424},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.active {\n    background-color: rgba(0, 0, 0, 0.03)\n    /* box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23); */\n}\n\n.bulmaAccordian {\n  width: 90%;\n}\n\n.accordionTitle,\n.accordionIcon,\n.accordionContent,\n.accordionFooter {\n  font-size: 0.7em !important;\n}\n.accordionTitle {\n  font-weight: bold;\n}\n\n.accordionFooter {\n    width: 100% !important;\n}\n\n\n.subjectTable {\n    width: 90%;\n    margin: auto;\n    /* border-collapse:separate;\n    border-spacing:0 15px; */\n}\n\n.comment {\n  padding-top: 10px;\n  padding-bottom: 20px;\n}\n/* thead {\n  border-bottom: 1px solid #dbdbdb;\n  margin-bottom: 10px;\n  text-align: justify;\n} */\n\n.footerTable {\n  width: 50%;\n  margin: auto;\n}\n\n.footerTable td {\n    text-align: center;\n}\n\n.numCell {\n    width: 22%;\n}\n.nameCell {\n    width: 60%;\n}\n.creditCell {\n    width: 18%;\n}\n\n#creditsRatio {\n  margin-right: 20px;\n}\n\n.Upcoming {background-color: #209cee; color: white;}\n.Current {background-color: #ffdc57}\n.Achieved, .Merit, .Excellence {background-color: #23d160; color: white;}\n.Not {background-color: #ff3860; color: white;}\n\n",{"version":3,"sources":["SubjectAccordion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8LA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"SubjectAccordion.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <BulmaAccordion\n    dropdown\n    :icon=\"'custom'\"\n    :caretAnimation=\"{duration: '.6s', timerFunc: 'ease-in-out'}\"\n    :slide=\"{duration: '.9s',timerFunc: 'ease'}\"\n    class=\"is-shadowless bulmaAccordian\"\n  >\n    <!-- The wrapper component for all the items -->\n    <!-- <BulmaAccordionItem v-for=\"standard in standards\" :key=\"standard.assessmentNum\" class=\"active\"> -->\n    <BulmaAccordionItem v-for=\"subject in subjects\" :key=\"subject.id\">\n      <h4 slot=\"title\" class=\"accordionTitle\">{{subject.subject}}</h4>\n      <span slot=\"icon\" class=\"accordionIcon tag is-normal\" id=\"creditsRatio\" >{{subject.passed+'/'+subject.total}}</span>\n      <p slot=\"content\" class=\"accordionContent\">\n        <table class=\"subjectTable\">\n            <!-- Report Comment -->\n            <!-- <thead>\n              <tr>\n                <td colspan=\"3\" v-if=\"getReportComment(subject.subject)\" class=\"comment\">{{getReportComment(subject.subject)}}</td>\n              </tr>\n            </thead> -->\n            <!-- Standards -->\n            <tr class=\"subjectTable\" v-for=\"subjectStandards in filterSubjectStandards(subject.subject)\" :key=\"subjectStandards.assessmentNum\" >\n                <td class=\"numCell has-text-left\">{{subjectStandards.assessmentNum}}</td>\n                <td class=\"nameCell has-text-left\">{{subjectStandards.assessmentName}}</td>\n                <td class=\"creditCell has-text-right\">\n                    <!-- <span  v-bind:class=\"[ (subjectStandards.completed !== 'completed') ? 'is-danger' : '', 'is-success']\" class=\"accordionIcon tag is-normal\">{{subjectStandards.assessmentCredits}}</span> -->\n                    <span  v-bind:class=\"subjectStandards.completed\" class=\"accordionIcon tag is-normal\">{{subjectStandards.assessmentCredits}}</span>\n                </td>\n            </tr>\n        </table>\n      </p>\n      <p slot=\"footer\" class=\"accordionFooter\">\n        <a v-bind:href=\"getTeacherEmail(subject.teacher)\">\n          <table class=\"footerTable\">\n              <tr>\n                  <td>Got questions?<br><span class=\"has-text-weight-semibold\">Contact {{subject.teacher}}</span></td>\n                <td>\n                    <img class=\"kaitiaki-pic\" v-bind:src=\"require('@/assets/staff_photos/' + formatTeacherName(subject.teacher) + '.jpg')\">\n\n              </td>\n              </tr>\n          </table>\n        </a>\n      </p>\n\n    </BulmaAccordionItem>\n\n  </BulmaAccordion>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { BulmaAccordion, BulmaAccordionItem } from \"vue-bulma-accordion\";\nimport { db } from \"./firebaseInit\";\nimport { firestorePlugin } from \"vuefire\";\nVue.use(firestorePlugin);\n\nexport default {\n  name: \"SubjectAccordion\",\n  components: {\n    BulmaAccordion,\n    BulmaAccordionItem\n  },\n  props: [\"student\"],\n  data() {\n    return {\n      standards: [],\n      reportComments: [],\n\n    };\n  },\n  firestore:  {\n    // reportComments: db\n  },\n  computed: {\n    subjects: function() {\n      // this.subjects = [...new Set(this.standards.map(x => x.subject))]\n      const subjects = Array.from(new Set(this.standards.map(x => x.subject)))\n        .map(subject => {\n          return {\n            subject: subject,\n            teacher: this.standards.find(x => x.subject === subject).teacher,\n            total: this.getTotals(subject),\n            passed: this.getPassed(subject)\n            }\n        })\n      return subjects\n    },\n    getSubjectWithNoStandards() {\n      var arr1 = this.standards\n      var arr2 = this.reportComments\n      var arr3 = [].concat(\n          arr1.filter(obj1 => arr2.every(obj2 => obj1.item !== obj2.item)),\n          arr2.filter(obj2 => arr1.every(obj1 => obj2.item !== obj1.item))\n      );\n      return arr3\n    }\n  },\n  methods: {\n    filterSubjectStandards: function(subjectName) {\n      var subStandards = this.standards.filter((sub) => {\n        return sub.subject == subjectName\n      })\n      //order the standards by this custom order\n      var completedOrder = [ \"Not Submitted\",\n        \"Not Achieved\",\n        \"Achieved\",\n        \"Merit\",\n        \"Excellence\",\n        \"Current\",\n        \"Upcoming\"];\n      return subStandards.sort(function(a, b) {\n        if (a.completed == b.completed) return a.completed - b.completed;\n        return (\n          completedOrder.indexOf(a.completed) -\n          completedOrder.indexOf(b.completed)\n        );\n      });\n    },\n    formatTeacherName: function(name) {\n      //format from 'Pa Ian' to 'ian'\n      let teacherName = name.split(\" \")[1].toLowerCase()\n      // console.log(\"teacher name for photo is: \" + teacherName)\n      return teacherName\n    },\n    getTotals: function(subjectName) {\n      const subjectStandards = this.filterSubjectStandards(subjectName)\n      //adds all the subject assessmentCredits together\n      return subjectStandards.map(o=>o.assessmentCredits).reduce((a,c)=>a+c)\n    },\n    getPassed: function(subjectName) {\n      const subjectStandards = this.filterSubjectStandards(subjectName)\n      // just get the 'completed' standards for this subject\n      const achievedStandards = subjectStandards.filter((sub) => {\n        return sub.completed == \"Achieved\"\n      })\n      const meritStandards = subjectStandards.filter((sub) => {\n        return sub.completed == \"Merit\"\n      })\n      const excellenceStandards = subjectStandards.filter((sub) => {\n        return sub.completed == \"Excellence\"\n      })\n\n      var achieved = achievedStandards.map(o=>o.assessmentCredits).reduce((a,c)=>a+c,0)\n      var merit = meritStandards.map(o=>o.assessmentCredits).reduce((a,c)=>a+c,0)\n      var excellence = excellenceStandards.map(o=>o.assessmentCredits).reduce((a,c)=>a+c,0)\n\n      //add the passed subject credits\n      return Number(achieved) + Number(merit) + Number(excellence)\n    },\n    getTeacherEmail(name) {\n      switch (name) {\n        case \"Pa Ian\": return \"mailto: i.tairea@taiwananga.co.nz\"\n        case \"Pa Chris\": return \"mailto: c.morgan@taiwananga.co.nz\"\n        case \"Pa Tipene\": return \"mailto: t.waihi@taiwananga.co.nz\"\n        case \"Pa Wiremu\": return \"mailto: w.paniora@taiwananga.co.nz\"\n        case \"Whaea Hayley\": return \"mailto: h.childs@taiwananga.co.nz\"\n        case \"Whaea Nicola\": return \"mailto: n.reid@taiwananga.co.nz\"\n        case \"Whaea Lysh\": return \"mailto: a.walker@taiwananga.co.nz\"\n        case \"Whaea Te Ana\": return \"mailto: teana.waihi@taiwananga.co.nz\"\n        default: return \"\";\n      }\n    },\n    getReportComment(subj) {\n      var subjectComment = this.reportComments.filter((sub) => {\n        return sub.id == subj\n      })\n      if (subjectComment == \"\" || subjectComment == null ||subjectComment == undefined  ) {\n        return\n      } else {return subjectComment[0].reportComment}\n    },\n\n  },\n  mounted() {\n    this.$bind(\n      \"standards\",\n      db.collection(`/students/${this.student.id}/openCredits2020`)\n    );\n    // console.log(\"standards in accordian\");\n    // console.log(this.standards);\n    this.$bind(\n      \"reportComments\",\n      db.collection(`/students/${this.student.id}/reportComments2020`)\n    );\n  }\n};\n</script>\n\n<style scoped>\n.active {\n    background-color: rgba(0, 0, 0, 0.03)\n    /* box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23); */\n}\n\n.bulmaAccordian {\n  width: 90%;\n}\n\n.accordionTitle,\n.accordionIcon,\n.accordionContent,\n.accordionFooter {\n  font-size: 0.7em !important;\n}\n.accordionTitle {\n  font-weight: bold;\n}\n\n.accordionFooter {\n    width: 100% !important;\n}\n\n\n.subjectTable {\n    width: 90%;\n    margin: auto;\n    /* border-collapse:separate;\n    border-spacing:0 15px; */\n}\n\n.comment {\n  padding-top: 10px;\n  padding-bottom: 20px;\n}\n/* thead {\n  border-bottom: 1px solid #dbdbdb;\n  margin-bottom: 10px;\n  text-align: justify;\n} */\n\n.footerTable {\n  width: 50%;\n  margin: auto;\n}\n\n.footerTable td {\n    text-align: center;\n}\n\n.numCell {\n    width: 22%;\n}\n.nameCell {\n    width: 60%;\n}\n.creditCell {\n    width: 18%;\n}\n\n#creditsRatio {\n  margin-right: 20px;\n}\n\n.Upcoming {background-color: #209cee; color: white;}\n.Current {background-color: #ffdc57}\n.Achieved, .Merit, .Excellence {background-color: #23d160; color: white;}\n.Not {background-color: #ff3860; color: white;}\n\n</style>\n\n<style>\n.card-header-title,\n.card-header-icon {\n  padding: 5px !important;\n}\n.card-content,\n.card-footer {\n    padding: 10px;\n}\n\n.kaitiaki-pic {\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n</style>\n\n"]}]}