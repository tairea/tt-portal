{"remainingRequest":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iantairea/Desktop/Projects/tt-portal/src/components/ProfileOverviewWork.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/iantairea/Desktop/Projects/tt-portal/src/components/ProfileOverviewWork.vue","mtime":1586934843027},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { db } from \"./firebaseInit\";\nimport Chart from \"chart.js\";\nimport \"chartjs-plugin-labels\";\n\nimport SubjectAccordion from \"./SubjectAccordion.vue\";\n\nexport default {\n  name: \"ProfileOverviewWork\",\n  props: [\"student\", \"overview\"],\n  data() {\n    return {\n      standards: [],\n      standardStatus: [],\n      pieChart: null,\n      chartCount: null,\n      studentName: null\n    };\n  },\n  components: {\n    SubjectAccordion\n  },\n  computed: {},\n  mounted() {\n    // get standards from firebase\n    this.$bind(\n      \"standards\",\n      db.collection(`/students/${this.student.id}/openCredits2020`)\n    );\n    this.studentName = this.student.given_name;\n  },\n  watch: {\n    standards: {\n      handler: \"loadChart\"\n    }\n  },\n  methods: {\n    getTotal(status) {\n      const standardsByStatus = this.standards.filter(\n        stnd => stnd.completed == status\n      );\n\n      const total = standardsByStatus.reduce(\n        (prev /* number */, curr /* standard */) =>\n          Number(prev) + Number(curr.assessmentCredits),\n        0\n      );\n\n      return total;\n    },\n    loadChart() {\n      // console.log(\"loading chart...\");\n      var ctx = document.getElementById(this.studentName + \"Chart\");\n      // .getContext(\"2d\");\n      this.pieChart = new Chart(ctx, {\n        type: \"pie\",\n        data: {\n          datasets: [\n            {\n              data: [\n                this.getTotal(\"Upcoming\"),\n                this.getTotal(\"Current\"),\n                this.getTotal(\"Achieved\") +\n                  this.getTotal(\"Merit\") +\n                  this.getTotal(\"Excellence\"),\n                this.getTotal(\"Not Achieved\") + this.getTotal(\"Not Submitted\")\n              ],\n              backgroundColor: [\"#209cee\", \"#ffdc57\", \"#23d160\", \"#ff3860\"],\n              label: \"Dataset 1\"\n            }\n          ],\n          labels: [\"Upcoming\", \"Current\", \"Achieved\", \"Not Achieved\"]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: true,\n          legend: {\n            display: true,\n            position: \"bottom\",\n            fullWidth: true,\n            labels: {\n              boxWidth: 10,\n              fontSize: 10\n            }\n          },\n          plugins: {\n            labels: {\n              render: \"value\",\n              fontColor: \"#fff\",\n              position: \"border\"\n              // outsidePadding: 4\n            }\n          }\n        }\n      });\n    }\n  }\n};\n",{"version":3,"sources":["ProfileOverviewWork.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProfileOverviewWork.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"title is-6 has-text-centered\" :style=\"overview ? 'font-size:0.7em':''\">OVERVIEW</h2>\n    <!-- <div class=\"columns is-mobile\"> -->\n    <div v-if=\"student.school_year >= 11\" class=\"columns\">\n      <!-- Pie Chart.js -->\n      <canvas v-bind:id=\"studentName+'Chart'\" style=\"height: 200px; width: 300px;\"></canvas>\n    </div>\n    <div class=\"columns\" id=\"accordion\">\n      <!-- Subject accordian here -->\n      <SubjectAccordion :student=\"student\"/>\n    </div>\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport { db } from \"./firebaseInit\";\nimport Chart from \"chart.js\";\nimport \"chartjs-plugin-labels\";\n\nimport SubjectAccordion from \"./SubjectAccordion.vue\";\n\nexport default {\n  name: \"ProfileOverviewWork\",\n  props: [\"student\", \"overview\"],\n  data() {\n    return {\n      standards: [],\n      standardStatus: [],\n      pieChart: null,\n      chartCount: null,\n      studentName: null\n    };\n  },\n  components: {\n    SubjectAccordion\n  },\n  computed: {},\n  mounted() {\n    // get standards from firebase\n    this.$bind(\n      \"standards\",\n      db.collection(`/students/${this.student.id}/openCredits2020`)\n    );\n    this.studentName = this.student.given_name;\n  },\n  watch: {\n    standards: {\n      handler: \"loadChart\"\n    }\n  },\n  methods: {\n    getTotal(status) {\n      const standardsByStatus = this.standards.filter(\n        stnd => stnd.completed == status\n      );\n\n      const total = standardsByStatus.reduce(\n        (prev /* number */, curr /* standard */) =>\n          Number(prev) + Number(curr.assessmentCredits),\n        0\n      );\n\n      return total;\n    },\n    loadChart() {\n      // console.log(\"loading chart...\");\n      var ctx = document.getElementById(this.studentName + \"Chart\");\n      // .getContext(\"2d\");\n      this.pieChart = new Chart(ctx, {\n        type: \"pie\",\n        data: {\n          datasets: [\n            {\n              data: [\n                this.getTotal(\"Upcoming\"),\n                this.getTotal(\"Current\"),\n                this.getTotal(\"Achieved\") +\n                  this.getTotal(\"Merit\") +\n                  this.getTotal(\"Excellence\"),\n                this.getTotal(\"Not Achieved\") + this.getTotal(\"Not Submitted\")\n              ],\n              backgroundColor: [\"#209cee\", \"#ffdc57\", \"#23d160\", \"#ff3860\"],\n              label: \"Dataset 1\"\n            }\n          ],\n          labels: [\"Upcoming\", \"Current\", \"Achieved\", \"Not Achieved\"]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: true,\n          legend: {\n            display: true,\n            position: \"bottom\",\n            fullWidth: true,\n            labels: {\n              boxWidth: 10,\n              fontSize: 10\n            }\n          },\n          plugins: {\n            labels: {\n              render: \"value\",\n              fontColor: \"#fff\",\n              position: \"border\"\n              // outsidePadding: 4\n            }\n          }\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  /* justify-content: center; */\n}\n\n#accordion {\n  width: 90%;\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}