{"remainingRequest":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iantairea/Desktop/Projects/tt-mobile/src/components/IndividualComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/src/components/IndividualComment.vue","mtime":1572820772000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from \"vue\";\n\nimport { db } from \"./firebaseInit\";\nimport Chart from \"chart.js\";\nimport \"chartjs-plugin-labels\";\nimport { firestorePlugin } from \"vuefire\";\nVue.use(firestorePlugin);\n\nimport SubjectPiechart from \"./SubjectPiechart.vue\";\n\nexport default {\n  name: \"IndividualComment\",\n  components: {\n    SubjectPiechart\n  },\n  props: [\"student\", \"reportComments\", \"standards\", \"fitness\"],\n  data() {\n    return {\n      // standards: [],\n      // reportComments: [],\n      // standardsRuakura: [],\n      // reportCommentsRuakura: [],\n    };\n  },\n  firestore: {},\n  mounted() {\n    // this.$bind(\n    //   \"standards\",\n    //   db.collection(`/students/${this.student.id}/openCredits`)\n    // );\n    // this.$bind(\n    //   \"reportComments\",\n    //   db.collection(`/students/${this.student.id}/reportComments`)\n    // );\n    // this.$bind(\n    //   \"standardsRuakura\",\n    //   db.collection(`/studentsRuakura/${this.student.id}/openCredits`)\n    // );\n    // this.$bind(\n    //   \"reportCommentsRuakura\",\n    //   db.collection(`/studentsRuakura/${this.student.id}/reportComments`)\n    // );\n  },\n  methods: {\n    filterSubjectStandards: function(subjectName) {\n      var subStandards = this.standards.filter(sub => {\n        return sub.subject == subjectName;\n      });\n      //order the standards by this custom order\n      var completedOrder = [\n        \"Not Submitted\",\n        \"Not Achieved\",\n        \"Achieved\",\n        \"Merit\",\n        \"Excellence\",\n        \"Current\",\n        \"Upcoming\"\n      ];\n      return subStandards.sort(function(a, b) {\n        if (a.completed == b.completed) return a.completed - b.completed;\n        return (\n          completedOrder.indexOf(a.completed) -\n          completedOrder.indexOf(b.completed)\n        );\n      });\n    },\n    filterSubjectStandardsRuakura: function(subjectName) {\n      var subStandards = this.standardsRuakura.filter(sub => {\n        return sub.subject == subjectName;\n      });\n      //order the standards by this custom order\n      var completedOrder = [\n        \"Not Submitted\",\n        \"Not Achieved\",\n        \"Achieved\",\n        \"Merit\",\n        \"Excellence\",\n        \"Current\",\n        \"Upcoming\"\n      ];\n      return subStandards.sort(function(a, b) {\n        if (a.completed == b.completed) return a.completed - b.completed;\n        return (\n          completedOrder.indexOf(a.completed) -\n          completedOrder.indexOf(b.completed)\n        );\n      });\n    },\n    formatTeacherName: function(name) {\n      //format from 'Pa Ian' to 'ian'\n      var splitName = name.split(\" \")[0].toLowerCase();\n      if (splitName == \"pa\" || splitName == \"pā\" || splitName == \"whaea\") {\n        splitName = name.split(\" \")[1].toLowerCase();\n        \n      }\n      return splitName;\n    },\n    formatTeacherNameRuakura: function(name) {\n      //format from 'Pa Ian Tairea' to 'Pa Ian'\n      var name = name.split(\" \");\n      return name[0] + \" \" + name[1];\n    },\n    getTeacherEmail(name) {\n      switch (name) {\n        case \"Pa Ian\":\n          return \"mailto: i.tairea@taiwananga.co.nz\";\n        case \"Pa Chris\":\n          return \"mailto: c.morgan@taiwananga.co.nz\";\n        case \"Pa Tipene\":\n          return \"mailto: t.waihi@taiwananga.co.nz\";\n        case \"Pa Wiremu\":\n          return \"mailto: w.paniora@taiwananga.co.nz\";\n        case \"Whaea Hayley\":\n          return \"mailto: h.childs@taiwananga.co.nz\";\n        case \"Whaea Nicola\":\n          return \"mailto: n.reid@taiwananga.co.nz\";\n        case \"Whaea Lysh\":\n          return \"mailto: a.walker@taiwananga.co.nz\";\n        case \"Whaea Te Ana\":\n          return \"mailto: teana.waihi@taiwananga.co.nz\";\n        default:\n          return \"\";\n      }\n    },\n    getReportComment(subj) {\n      var subjectComment = this.reportComments.filter(sub => {\n        console.log(\"sub:\", sub);\n        return sub.id == subj;\n      });\n      console.log(\"subject comment:\", subjectComment);\n      return subjectComment[0].reportComment;\n    }\n  }\n};\n",{"version":3,"sources":["IndividualComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IndividualComment.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"commentContainer\">\n      <div class=\"card\" v-for=\"comment in reportComments\" :key=\"comment.id\">\n        <!-- <div class=\"card-image\"> -->\n        <!-- <figure class=\"image is-4by3\">\n          <img src=\"https://bulma.io/images/placeholders/1280x960.png\" alt=\"Placeholder image\">\n        </figure>-->\n        <!-- </div> -->\n        <header class=\"card-header\">\n          <div class=\"media\">\n            <div class=\"media-left\">\n              <figure class=\"image is-48x48\">\n                <img\n                  class=\"kaitiaki-pic\"\n                  v-bind:src=\"require('@/assets/staff_photos/' + formatTeacherName(comment.teacher) + '.jpg')\"\n                />\n              </figure>\n            </div>\n            <div class=\"media-center\">\n              <p class=\"title role\">{{comment.subject}}</p>\n            </div>\n            <div class=\"media-right\">\n              <p class=\"subtitle teacher\">{{comment.teacher}}</p>\n            </div>\n          </div>\n        </header>\n        <div class=\"card-content\">\n          \n\n          <div class=\"content reports\">{{comment.reportComment}}</div>\n\n          <div v-if=\"!fitness\" class=\"card-content contentStandards\">\n            <div class=\"content content5050\">\n              <div class=\"table\">\n                <table>\n                  <!-- credit table titles -->\n                  <thead>\n                    <tr>\n                      <th class=\"numCellWidth\">Std Number</th>\n                      <th>Standard Name</th>\n                      <th class=\"creditCellWidth\">Credits</th>\n                      <th class=\"has-text-right\">Grade</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr\n                      class=\"subjectTable\"\n                      v-for=\"subjectStandards in filterSubjectStandards(comment.subject)\"\n                      :key=\"subjectStandards.assessmentNum\"\n                    >\n\n                      <td class=\"numCell has-text-left numCellWidth\">\n                        {{subjectStandards.assessmentNum}}\n                      </td>\n\n                      <td class=\"nameCell has-text-left nameCellWidth\">\n                          {{subjectStandards.assessmentName}}\n                      </td>\n\n                      <td class=\"creditCell has-text-centered creditCellWidth\">\n                        <!-- <td v-if=\"subjectStandards.assessmentCredits\" class=\"creditCell has-text-right\"> -->\n                        <!-- <span  v-bind:class=\"[ (subjectStandards.completed !== 'completed') ? 'is-danger' : '', 'is-success']\" class=\"accordionIcon tag is-normal\">{{subjectStandards.assessmentCredits}}</span> -->\n                        {{subjectStandards.assessmentCredits}}\n                      </td>\n\n                      <td class=\"statusCell has-text-right statusCellWidth\">\n                        <span\n                          v-bind:class=\"subjectStandards.completed\"\n                          class=\"accordionIcon tag is-normal\"\n                        >{{subjectStandards.completed}}</span>\n                      </td>\n\n\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"pie\">\n                <!-- Pie Chart.js -->\n                <SubjectPiechart :student=\"student\" :subject=\"comment.subject\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\n\nimport { db } from \"./firebaseInit\";\nimport Chart from \"chart.js\";\nimport \"chartjs-plugin-labels\";\nimport { firestorePlugin } from \"vuefire\";\nVue.use(firestorePlugin);\n\nimport SubjectPiechart from \"./SubjectPiechart.vue\";\n\nexport default {\n  name: \"IndividualComment\",\n  components: {\n    SubjectPiechart\n  },\n  props: [\"student\", \"reportComments\", \"standards\", \"fitness\"],\n  data() {\n    return {\n      // standards: [],\n      // reportComments: [],\n      // standardsRuakura: [],\n      // reportCommentsRuakura: [],\n    };\n  },\n  firestore: {},\n  mounted() {\n    // this.$bind(\n    //   \"standards\",\n    //   db.collection(`/students/${this.student.id}/openCredits`)\n    // );\n    // this.$bind(\n    //   \"reportComments\",\n    //   db.collection(`/students/${this.student.id}/reportComments`)\n    // );\n    // this.$bind(\n    //   \"standardsRuakura\",\n    //   db.collection(`/studentsRuakura/${this.student.id}/openCredits`)\n    // );\n    // this.$bind(\n    //   \"reportCommentsRuakura\",\n    //   db.collection(`/studentsRuakura/${this.student.id}/reportComments`)\n    // );\n  },\n  methods: {\n    filterSubjectStandards: function(subjectName) {\n      var subStandards = this.standards.filter(sub => {\n        return sub.subject == subjectName;\n      });\n      //order the standards by this custom order\n      var completedOrder = [\n        \"Not Submitted\",\n        \"Not Achieved\",\n        \"Achieved\",\n        \"Merit\",\n        \"Excellence\",\n        \"Current\",\n        \"Upcoming\"\n      ];\n      return subStandards.sort(function(a, b) {\n        if (a.completed == b.completed) return a.completed - b.completed;\n        return (\n          completedOrder.indexOf(a.completed) -\n          completedOrder.indexOf(b.completed)\n        );\n      });\n    },\n    filterSubjectStandardsRuakura: function(subjectName) {\n      var subStandards = this.standardsRuakura.filter(sub => {\n        return sub.subject == subjectName;\n      });\n      //order the standards by this custom order\n      var completedOrder = [\n        \"Not Submitted\",\n        \"Not Achieved\",\n        \"Achieved\",\n        \"Merit\",\n        \"Excellence\",\n        \"Current\",\n        \"Upcoming\"\n      ];\n      return subStandards.sort(function(a, b) {\n        if (a.completed == b.completed) return a.completed - b.completed;\n        return (\n          completedOrder.indexOf(a.completed) -\n          completedOrder.indexOf(b.completed)\n        );\n      });\n    },\n    formatTeacherName: function(name) {\n      //format from 'Pa Ian' to 'ian'\n      var splitName = name.split(\" \")[0].toLowerCase();\n      if (splitName == \"pa\" || splitName == \"pā\" || splitName == \"whaea\") {\n        splitName = name.split(\" \")[1].toLowerCase();\n        \n      }\n      return splitName;\n    },\n    formatTeacherNameRuakura: function(name) {\n      //format from 'Pa Ian Tairea' to 'Pa Ian'\n      var name = name.split(\" \");\n      return name[0] + \" \" + name[1];\n    },\n    getTeacherEmail(name) {\n      switch (name) {\n        case \"Pa Ian\":\n          return \"mailto: i.tairea@taiwananga.co.nz\";\n        case \"Pa Chris\":\n          return \"mailto: c.morgan@taiwananga.co.nz\";\n        case \"Pa Tipene\":\n          return \"mailto: t.waihi@taiwananga.co.nz\";\n        case \"Pa Wiremu\":\n          return \"mailto: w.paniora@taiwananga.co.nz\";\n        case \"Whaea Hayley\":\n          return \"mailto: h.childs@taiwananga.co.nz\";\n        case \"Whaea Nicola\":\n          return \"mailto: n.reid@taiwananga.co.nz\";\n        case \"Whaea Lysh\":\n          return \"mailto: a.walker@taiwananga.co.nz\";\n        case \"Whaea Te Ana\":\n          return \"mailto: teana.waihi@taiwananga.co.nz\";\n        default:\n          return \"\";\n      }\n    },\n    getReportComment(subj) {\n      var subjectComment = this.reportComments.filter(sub => {\n        console.log(\"sub:\", sub);\n        return sub.id == subj;\n      });\n      console.log(\"subject comment:\", subjectComment);\n      return subjectComment[0].reportComment;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.commentContainer {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  width: 100%;\n}\n\ntable {\n  margin: auto !important;\n  table-layout: fixed;\n}\n\nth {\n  /* text-align: center !important; */\n  font-size: 0.6rem;\n}\n\n.numCellWidth {width: 20% !important;}\n.nameCellWidth {width: 70% !important;}\n.creditCellWidth {width: 5% !important;}\n.statusCellWidth {width: 5% !important;}\n\n.card {\n  width: 100%;\n  font-size: 0.65rem;\n  margin: 10px 0px;\n}\n\n.reports {\n  margin-bottom: 20px;\n  text-align: justify;\n}\n\n.media {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0 20px;\n}\n\n.card-header {\n  height: 50px;\n  /* background: #d8d8d8; */\n  background: #ADA996;  /* fallback for old browsers */\nbackground: -webkit-linear-gradient(to left, #EAEAEA, #DBDBDB, #F2F2F2, #ADA996);  /* Chrome 10-25, Safari 5.1-6 */\nbackground: linear-gradient(to left, #EAEAEA, #DBDBDB, #F2F2F2, #ADA996); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n\n}\n\n.teacher {\n  font-size: 0.9rem;\n  /* color: white; */\n}\n\n.role {\n  font-size: 1.2rem;\n  /* color: white; */\n}\n\n.kaitiaki-pic {\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.content5050 {\n  display: flex;\n  margin-bottom: 10px;\n}\n\n.table {\n  width: 70%;\n  margin: 0;\n}\n\ntable {\n  width: 85%;\n}\n\n.pie {\n  width: 30%;\n  display: flex;\n  align-items: center;\n}\n\n.contentStandards {\n  margin: 0;\n  padding: 0;\n}\n\n.subjectTable {\n  font-size: 0.7rem;\n}\n\n.numCell,\n.creditCell {\n  font-size: 0.5rem;\n}\n\n.creditCell {\n  text-align: center;\n}\n\n.nameCell {\n  font-size: 0.6rem;\n}\n\n.is-normal {\n  font-size: 0.5rem !important;\n}\n\n.Upcoming {\n  background-color: #209cee;\n  color: white;\n  font-size: 0.5rem !important;\n}\n.Current {\n  background-color: #ffdc57;\n  font-size: 0.5rem !important;\n}\n.Achieved,\n.Merit,\n.Excellence {\n  background-color: #23d160;\n  color: white;\n  font-size: 0.5rem !important;\n}\n.Not {\n  background-color: #ff3860;\n  color: white;\n  font-size: 0.5rem !important;\n}\n</style>\n"]}]}