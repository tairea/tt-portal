{"remainingRequest":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/babel-loader/lib/index.js!/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iantairea/Desktop/Projects/tt-mobile/src/components/ProfileCurrentWork.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/src/components/ProfileCurrentWork.vue","mtime":1586931988693},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.sort\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport { db } from \"./firebaseInit\";\nVue.use(Buefy);\nexport default {\n  name: \"ProfileCurrentWork\",\n  props: [\"student\", \"overview\"],\n  data: function data() {\n    return {\n      standards: []\n    };\n  },\n  computed: {\n    currentStandards: function currentStandards() {\n      //filter by current\n      var currentStands = this.standards.filter(function (x) {\n        return x.completed === \"Current\";\n      }); //sort by dueDate\n\n      return currentStands.sort(function (a, b) {\n        return a.dueDate > b.dueDate ? 1 : b.dueDate > a.dueDate ? -1 : 0;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.$bind(\"standards\", db.collection(\"/students/\".concat(this.student.id, \"/openCredits2020\"))); // console.log(\"this.standards\");\n    // console.log(this.standards);\n  },\n  methods: {\n    formatDueDate: function formatDueDate(timestamp) {\n      if (timestamp.seconds == null || timestamp.seconds == \"\") {\n        return \"TBC\";\n      }\n\n      if (typeof timestamp === \"string\") {\n        return timestamp;\n      } // convert seconds to new date\n\n\n      timestamp = new Date(timestamp.seconds * 1000); // var date = timestamp.toDate();\n\n      var month = timestamp.getMonth();\n      var day = timestamp.getDate();\n      var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n      return day + \" \" + months[month];\n    },\n    formatTeacherName: function formatTeacherName(name) {\n      var teacherName = name.split(\" \")[1].toLowerCase(); // console.log(\"teacher name is: \" + teacherName)\n\n      return teacherName;\n    },\n    isOverdue: function isOverdue(timestamp) {\n      if (timestamp == null || timestamp == \"\") {\n        return;\n      } // if (typeof timestamp === \"string\") {\n      //   return timestamp;\n      // }\n      // var dueDate = timestamp.toDate();\n\n\n      var dueDate = new Date(timestamp.seconds * 1000);\n      var now = new Date();\n\n      if (now > dueDate) {\n        return \"overdue\";\n      } else {\n        return;\n      } // console.log(\"due date timestamp:\", dueDate);\n      // console.log(\"now timestamp:\", now);\n\n    }\n  }\n};",{"version":3,"sources":["ProfileCurrentWork.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,sBAAA;AACA,SAAA,EAAA;AAEA,GAAA,CAAA,GAAA,CAAA,KAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,UAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA;AACA,UAAA,aAAA,GAAA,KAAA,SAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,SAAA,KAAA,SAAA;AAAA,OAAA,CAAA,CAFA,CAGA;;AACA,aAAA,aAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,eACA,CAAA,CAAA,OAAA,GAAA,CAAA,CAAA,OAAA,GAAA,CAAA,GAAA,CAAA,CAAA,OAAA,GAAA,CAAA,CAAA,OAAA,GAAA,CAAA,CAAA,GAAA,CADA;AAAA,OAAA,CAAA;AAGA;AARA,GARA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,KAAA,CACA,WADA,EAEA,EAAA,CAAA,UAAA,qBAAA,KAAA,OAAA,CAAA,EAAA,sBAFA,EADA,CAKA;AACA;AACA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,SADA,EACA;AACA,UAAA,SAAA,CAAA,OAAA,IAAA,IAAA,IAAA,SAAA,CAAA,OAAA,IAAA,EAAA,EAAA;AACA,eAAA,KAAA;AACA;;AACA,UAAA,OAAA,SAAA,KAAA,QAAA,EAAA;AACA,eAAA,SAAA;AACA,OANA,CAQA;;;AACA,MAAA,SAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA,OAAA,GAAA,IAAA,CAAA,CATA,CAWA;;AACA,UAAA,KAAA,GAAA,SAAA,CAAA,QAAA,EAAA;AACA,UAAA,GAAA,GAAA,SAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,GAAA,CACA,KADA,EAEA,KAFA,EAGA,KAHA,EAIA,KAJA,EAKA,KALA,EAMA,MANA,EAOA,MAPA,EAQA,KARA,EASA,MATA,EAUA,KAVA,EAWA,KAXA,EAYA,KAZA,CAAA;AAcA,aAAA,GAAA,GAAA,GAAA,GAAA,MAAA,CAAA,KAAA,CAAA;AACA,KA9BA;AA+BA,IAAA,iBAAA,EAAA,2BAAA,IAAA,EAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,WAAA,EAAA,CADA,CAEA;;AACA,aAAA,WAAA;AACA,KAnCA;AAoCA,IAAA,SApCA,qBAoCA,SApCA,EAoCA;AACA,UAAA,SAAA,IAAA,IAAA,IAAA,SAAA,IAAA,EAAA,EAAA;AACA;AACA,OAHA,CAIA;AACA;AACA;AACA;;;AACA,UAAA,OAAA,GAAA,IAAA,IAAA,CAAA,SAAA,CAAA,OAAA,GAAA,IAAA,CAAA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;;AACA,UAAA,GAAA,GAAA,OAAA,EAAA;AACA,eAAA,SAAA;AACA,OAFA,MAEA;AACA;AACA,OAdA,CAeA;AACA;;AACA;AArDA;AA1BA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"columns is-mobile\">\n      <div class=\"column\">\n        <h2 class=\"title is-6 has-text-centered\" :style=\"overview ? 'font-size:0.7em':''\">CURRENT WORK</h2>\n        <!-- <table v-bind:class=\"[{ tableOverview: overview }, table]\"> -->\n        <table v-bind:class=\"[overview ? 'tableOverview' : 'table']\">\n          <thead v-if=\"!overview\">\n            <tr>\n              <th>Subject</th>\n              <th v-if=\"student.school_year >= 11\">\n                <abbr title=\"Standard Number\">Std#</abbr>\n              </th>\n              <th>\n                <abbr title=\"Standard Name\">Name</abbr>\n              </th>\n              <th v-if=\"student.school_year >= 11\">Credits</th>\n              <th>Due</th>\n              <th>Kaitiaki</th>\n              <th>Comment</th>\n            </tr>\n          </thead>\n          <tbody>\n            <!-- Standard Rows -->\n            <tr v-for=\"standard in currentStandards\" :key=\"standard.assessmentNumber\">\n              <!-- <td v-if=\"!overview\"> -->\n              <td>\n                <!-- subjects offered:\nSTEM\nEnglish\nKaupapa Māori\nMathematics\nInnovation\nPhysical Education\nProject Based Learning\nFinancial Literacy\nWork Ready\nScience\n                -->\n                <span\n                  v-if=\"standard.subject == 'Innovation'\"\n                  class=\"tag is-digi is-normal\"\n                >INNO</span>\n                <span v-if=\"standard.subject == 'English'\" class=\"tag is-eng is-normal\">ENG</span>\n                <span v-if=\"standard.subject == 'Work Ready'\" class=\"tag is-eng is-normal\">WORK</span>\n                <span v-if=\"standard.subject == 'Science'\" class=\"tag is-sci is-normal\">SCI</span>\n                <span v-if=\"standard.subject == 'Chemistry'\" class=\"tag is-sci is-normal\">CHEM</span>\n                <span v-if=\"standard.subject == 'Physics'\" class=\"tag is-sci is-normal\">PHYS</span>\n                <span v-if=\"standard.subject == 'Biology'\" class=\"tag is-sci is-normal\">BIO</span>\n                <span v-if=\"standard.subject == 'STEM'\" class=\"tag is-sci is-normal\">STEM</span>\n                <span v-if=\"standard.subject == 'Mathematics'\" class=\"tag is-math is-norpmal\">MATH</span>\n                <span v-if=\"standard.subject == 'Kaupapa Māori'\" class=\"tag is-tika is-normal\">MAOR</span>\n                <span v-if=\"standard.subject == 'MPA'\" class=\"tag is-tika is-normal\">MPA</span>\n                <span v-if=\"standard.subject == 'Physical Education'\" class=\"tag is-pe is-normal\">PE</span>\n                <span v-if=\"standard.subject == 'Physical Education & Health'\" class=\"tag is-pe is-normal\">PE&H</span>\n                <span v-if=\"standard.subject == 'Project Based Learning'\" class=\"tag is-pbl is-normal\">PBL</span>\n                <span v-if=\"standard.subject == 'Dance'\" class=\"tag is-pbl is-normal\">DANC</span>\n                <span\n                  v-if=\"standard.subject == 'Financial Literacy'\"\n                  class=\"tag is-math is-normal\"\n                >FILIT</span>\n              </td>\n              <td v-if=\"!overview && student.school_year >= 11\">{{standard.assessmentNum}}</td>\n              <td>{{standard.assessmentName}}</td>\n              <td v-if=\"student.school_year >= 11\">{{standard.assessmentCredits}}</td>\n              <td v-bind:class=\"isOverdue(standard.dueDate)\">{{formatDueDate(standard.dueDate)}}</td>\n              <td>\n                <!-- <img class=\"kaitiaki-pic\" src=\"../assets/staff_photos/ian2.jpg\"> -->\n                <img\n                  class=\"kaitiaki-pic\"\n                  v-bind:src=\"require('@/assets/staff_photos/' + formatTeacherName(standard.teacher) + '.jpg')\"\n                >\n              </td>\n              <td>\n                <span\n                  v-if=\"standard.status == 'On-track'\"\n                  class=\"tag is-success\"\n                >{{standard.teacherComment}}</span>\n                <span\n                  v-if=\"standard.status == 'At risk'\"\n                  class=\"tag is-warning\"\n                >{{standard.teacherComment}}</span>\n                <span\n                  v-if=\"standard.status == 'Off-track'\"\n                  class=\"tag is-danger\"\n                >{{standard.teacherComment}}</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport { db } from \"./firebaseInit\";\n\nVue.use(Buefy);\n\nexport default {\n  name: \"ProfileCurrentWork\",\n  props: [\"student\", \"overview\"],\n  data() {\n    return {\n      standards: []\n    };\n  },\n  computed: {\n    currentStandards() {\n      //filter by current\n      var currentStands = this.standards.filter(x => x.completed === \"Current\");\n      //sort by dueDate\n      return currentStands.sort((a, b) =>\n        a.dueDate > b.dueDate ? 1 : b.dueDate > a.dueDate ? -1 : 0\n      );\n    }\n  },\n  mounted() {\n    this.$bind(\n      \"standards\",\n      db.collection(`/students/${this.student.id}/openCredits2020`)\n    );\n    // console.log(\"this.standards\");\n    // console.log(this.standards);\n  },\n  methods: {\n    formatDueDate(timestamp) {\n      if (timestamp.seconds == null || timestamp.seconds == \"\") {\n        return \"TBC\";\n      }\n      if (typeof timestamp === \"string\") {\n        return timestamp;\n      }\n\n      // convert seconds to new date\n      timestamp = new Date(timestamp.seconds * 1000)\n\n      // var date = timestamp.toDate();\n      var month = timestamp.getMonth();\n      var day = timestamp.getDate();\n      var months = [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"Aug\",\n        \"Sept\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\"\n      ];\n      return day + \" \" + months[month];\n    },\n    formatTeacherName: function(name) {\n      let teacherName = name.split(\" \")[1].toLowerCase();\n      // console.log(\"teacher name is: \" + teacherName)\n      return teacherName\n    },\n    isOverdue(timestamp) {\n      if (timestamp == null || timestamp == \"\") {\n        return;\n      }\n      // if (typeof timestamp === \"string\") {\n      //   return timestamp;\n      // }\n      // var dueDate = timestamp.toDate();\n      var dueDate = new Date(timestamp.seconds * 1000)\n      var now = new Date();\n      if (now > dueDate) {\n        return \"overdue\";\n      } else {\n        return;\n      }\n      // console.log(\"due date timestamp:\", dueDate);\n      // console.log(\"now timestamp:\", now);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.table {\n  width: 100%;\n}\n\n.tableOverview {\n  width: 80%;\n  margin: auto;\n}\n\nth,\ntd {\n  font-size: 0.6em;\n  text-align: center !important;\n  width: 50px;\n  padding: 2px 0px;\n}\n\n.table td,\n.table th {\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.tag {\n  font-size: 1em !important;\n}\n\n.kaitiaki-pic {\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n\n.overdue {\n  /* color: #ce2d4f; */\n  color: red;\n  font-weight: bold;\n}\n\n/*Subject tag colours*/\n.tag:not(body).is-digi {\n  background-color: #7957d5;\n  color: white;\n}\n.tag:not(body).is-eng {\n  background-color: #efabff;\n  color: white;\n}\n.tag:not(body).is-sci {\n  background-color: #01d1b2;\n  color: white;\n}\n.tag:not(body).is-math {\n  background-color: #209cee;\n  color: white;\n}\n.tag:not(body).is-pe {\n  background-color: #1a181b;\n  color: white;\n}\n.tag:not(body).is-tika {\n  background-color: #ce2d4f;\n  color: white;\n}\n.tag:not(body).is-pbl {\n  background-color: #7957d5;\n  color: white;\n}\n</style>\n"],"sourceRoot":"src/components"}]}