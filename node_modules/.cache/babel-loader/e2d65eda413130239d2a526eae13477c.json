{"remainingRequest":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/thread-loader/dist/cjs.js!/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/babel-loader/lib/index.js!/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/iantairea/Desktop/Projects/tt-mobile/src/components/SubjectPiechart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/src/components/SubjectPiechart.vue","mtime":1579413346770},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/iantairea/Desktop/Projects/tt-mobile/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { db } from \"./firebaseInit\";\nimport Chart from \"chart.js\";\nimport \"chartjs-plugin-labels\";\nexport default {\n  name: \"SubjectPiechart\",\n  props: [\"student\", \"subject\"],\n  data: function data() {\n    return {\n      standards: [],\n      standardStatus: [],\n      pieChart: null,\n      chartCount: null,\n      studentName: null,\n      subjectName: null\n    };\n  },\n  components: {},\n  computed: {},\n  mounted: function mounted() {\n    // get standards from firebase\n    this.$bind(\"standards\", db.collection(\"/students/\".concat(this.student.id, \"/openCredits\")));\n    this.studentName = this.student.given_name;\n    this.subjectName = this.subject;\n  },\n  watch: {\n    standards: {\n      handler: \"loadChart\"\n    }\n  },\n  methods: {\n    getTotal: function getTotal(status) {\n      var _this = this;\n\n      var standardsBySubject = this.standards.filter(function (stnd) {\n        return stnd.subject == _this.subjectName;\n      });\n      var standardsByStatus = standardsBySubject.filter(function (stnd) {\n        return stnd.completed == status;\n      });\n      var total = standardsByStatus.reduce(function (prev\n      /* number */\n      , curr\n      /* standard */\n      ) {\n        return Number(prev) + Number(curr.assessmentCredits);\n      }, 0);\n      return total;\n    },\n    loadChart: function loadChart() {\n      // console.log(\"loading chart...\");\n      var ctx = document.getElementById(this.studentName + this.subjectName + \"Chart\"); // .getContext(\"2d\");\n\n      this.pieChart = new Chart(ctx, {\n        type: \"pie\",\n        data: {\n          datasets: [{\n            data: [this.getTotal(\"Upcoming\"), this.getTotal(\"Current\"), this.getTotal(\"Achieved\") + this.getTotal(\"Merit\") + this.getTotal(\"Excellence\"), this.getTotal(\"Not Achieved\") + this.getTotal(\"Not Submitted\")],\n            backgroundColor: [\"#209cee\", \"#ffdc57\", \"#23d160\", \"#ff3860\"],\n            label: \"Dataset 1\"\n          }],\n          labels: [\"Upcoming\", \"Current\", \"Achieved\", \"Not Achieved\"]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: true,\n          legend: {\n            display: false,\n            position: \"bottom\",\n            fullWidth: true,\n            labels: {\n              boxWidth: 10,\n              fontSize: 10\n            }\n          },\n          plugins: {\n            labels: {\n              render: \"value\",\n              fontColor: \"#fff\",\n              position: \"border\" // outsidePadding: 4\n\n            }\n          }\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["SubjectPiechart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- <h2 class=\"title is-6 has-text-centered\" v-if=\"!overview\">OVERVIEW</h2> -->\n    <!-- <div class=\"columns is-mobile\"> -->\n    <div class=\"columns\">\n      <!-- Pie Chart.js -->\n      <canvas v-bind:id=\"studentName+subjectName+'Chart'\"></canvas>\n    </div>\n    <!-- </div> -->\n  </div>\n</template>\n\n<script>\nimport { db } from \"./firebaseInit\";\nimport Chart from \"chart.js\";\nimport \"chartjs-plugin-labels\";\n\nexport default {\n  name: \"SubjectPiechart\",\n  props: [\"student\", \"subject\"],\n  data() {\n    return {\n      standards: [],\n      standardStatus: [],\n      pieChart: null,\n      chartCount: null,\n      studentName: null,\n      subjectName: null,\n    };\n  },\n  components: {},\n  computed: {},\n  mounted() {\n    // get standards from firebase\n    this.$bind(\n      \"standards\",\n      db.collection(`/students/${this.student.id}/openCredits`)\n    );\n    this.studentName = this.student.given_name;\n    this.subjectName = this.subject;\n  },\n  watch: {\n    standards: {\n      handler: \"loadChart\"\n    }\n  },\n  methods: {\n    getTotal(status) {\n    \n      const standardsBySubject = this.standards.filter(\n        stnd => stnd.subject == this.subjectName\n      );\n\n      const standardsByStatus = standardsBySubject.filter(\n        stnd => stnd.completed == status\n      );\n\n      const total = standardsByStatus.reduce(\n        (prev /* number */, curr /* standard */) =>\n          Number(prev) + Number(curr.assessmentCredits),\n        0\n      );\n\n      return total;\n    },\n    loadChart() {\n      // console.log(\"loading chart...\");\n      var ctx = document.getElementById(this.studentName+this.subjectName + \"Chart\");\n      // .getContext(\"2d\");\n      this.pieChart = new Chart(ctx, {\n        type: \"pie\",\n        data: {\n          datasets: [\n            {\n              data: [\n                this.getTotal(\"Upcoming\"),\n                this.getTotal(\"Current\"),\n                this.getTotal(\"Achieved\") +\n                  this.getTotal(\"Merit\") +\n                  this.getTotal(\"Excellence\"),\n                this.getTotal(\"Not Achieved\") + this.getTotal(\"Not Submitted\")\n              ],\n              backgroundColor: [\"#209cee\", \"#ffdc57\", \"#23d160\", \"#ff3860\"],\n              label: \"Dataset 1\"\n            }\n          ],\n          labels: [\"Upcoming\", \"Current\", \"Achieved\", \"Not Achieved\"]\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: true,\n          legend: {\n            display: false,\n            position: \"bottom\",\n            fullWidth: true,\n            labels: {\n              boxWidth: 10,\n              fontSize: 10\n            }\n          },\n          plugins: {\n            labels: {\n              render: \"value\",\n              fontColor: \"#fff\",\n              position: \"border\"\n              // outsidePadding: 4\n            }\n          }\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  /* justify-content: center; */\n}\n\n#accordion {\n  width: 90%;\n  display: flex;\n  justify-content: center;\n}\n</style>\n"],"sourceRoot":"src/components"}]}